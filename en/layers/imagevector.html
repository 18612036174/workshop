
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Image vector source Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-image-captions/image-captions.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../style.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../controls/" />
    
    
    <link rel="prev" href="vector.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="/" target="_blank" class="custom-link">OpenLayers Workshop</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../basics/">
            
                <a href="../basics/">
            
                    
                    Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../basics/map.html">
            
                <a href="../basics/map.html">
            
                    
                    Creating a map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../basics/dissect.html">
            
                <a href="../basics/dissect.html">
            
                    
                    Dissecting your map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../basics/resources.html">
            
                <a href="../basics/resources.html">
            
                    
                    Resources
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Layers and Sources
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="wms.html">
            
                <a href="wms.html">
            
                    
                    WMS sources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="cached.html">
            
                <a href="cached.html">
            
                    
                    Tiled sources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="proprietary.html">
            
                <a href="proprietary.html">
            
                    
                    Proprietary tile providers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="vector.html">
            
                <a href="vector.html">
            
                    
                    Vector data
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.5" data-path="imagevector.html">
            
                <a href="imagevector.html">
            
                    
                    Image vector source
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../controls/">
            
                <a href="../controls/">
            
                    
                    Controls
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../controls/scaleline.html">
            
                <a href="../controls/scaleline.html">
            
                    
                    Scale line control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../controls/select.html">
            
                <a href="../controls/select.html">
            
                    
                    Select interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../controls/draw.html">
            
                <a href="../controls/draw.html">
            
                    
                    Draw interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../controls/modify.html">
            
                <a href="../controls/modify.html">
            
                    
                    Modify interaction
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../vector/">
            
                <a href="../vector/">
            
                    
                    Vector Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../vector/formats.html">
            
                <a href="../vector/formats.html">
            
                    
                    Formats
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../vector/style-intro.html">
            
                <a href="../vector/style-intro.html">
            
                    
                    Styling concepts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../vector/style.html">
            
                <a href="../vector/style.html">
            
                    
                    Custom styles
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../custom-builds/">
            
                <a href="../custom-builds/">
            
                    
                    Custom Builds
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../custom-builds/concepts.html">
            
                <a href="../custom-builds/concepts.html">
            
                    
                    Concepts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../custom-builds/create.html">
            
                <a href="../custom-builds/create.html">
            
                    
                    Create custom builds
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Image vector source</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="image-vector">Image Vector</h1>
<p>In the previous example using an <code>ol.layer.Vector</code> you can see that the features are re-rendered continuously during animated zooming (the size of the point symbolizers remains fixed).  With a vector layer, OpenLayers will re-render the source data with each animation frame.  This provides consistent rendering of line strokes, point symbolizers, and labels with changes in the view resolution.</p>
<p>An alternative rendering strategy is to avoid re-rendering data during view transitions and instead reposition and scale the rendered output from the previous view state.  This can be accomplished by using an <code>ol.layer.Image</code> with an <code>ol.source.ImageVector</code>.  With this combination, &quot;snapshots&quot; of your data are rendered when the view is not animating, and these snapshots are reused during view transitions.</p>
<p>The example below uses an <code>ol.layer.Image</code> with an <code>ol.source.ImageVector</code>.  Though this example only renders a small quantity of data, this combination would be appropriate for applications that render large quantities of relatively static data.</p>
<h2 id="olsourceimagevector"><code>ol.source.ImageVector</code></h2>
<p>Let&apos;s go back to the vector layer example to get earthquake data on top of a world map.</p>
<pre><code class="lang-html"><span class="hljs-meta">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/ol.css&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
      <span class="hljs-selector-id">#map</span> {
        <span class="hljs-attribute">height</span>: <span class="hljs-number">256px</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">512px</span>;
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>OpenLayers example<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/loader.js&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My Map<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="actionscript">
      <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> ol.Map({
        target: <span class="hljs-string">&apos;map&apos;</span>,
        layers: [
          <span class="hljs-keyword">new</span> ol.layer.Tile({
            title: <span class="hljs-string">&apos;Global Imagery&apos;</span>,
            source: <span class="hljs-keyword">new</span> ol.source.TileWMS({
              url: <span class="hljs-string">&apos;https://ahocevar.com/geoserver/wms&apos;</span>,
              params: {LAYERS: <span class="hljs-string">&apos;nasa:bluemarble&apos;</span>, TILED: <span class="hljs-literal">true</span>}
            })
          }),
          <span class="hljs-keyword">new</span> ol.layer.Vector({
            title: <span class="hljs-string">&apos;Earthquakes&apos;</span>,
            source: <span class="hljs-keyword">new</span> ol.source.Vector({
              url: <span class="hljs-string">&apos;/data/layers/7day-M2.5.json&apos;</span>,
              format: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
            }),
            style: <span class="hljs-keyword">new</span> ol.style.Style({
              image: <span class="hljs-keyword">new</span> ol.style.Circle({
                radius: <span class="hljs-number">3</span>,
                fill: <span class="hljs-keyword">new</span> ol.style.Fill({color: <span class="hljs-string">&apos;white&apos;</span>})
              })
            })
          })
        ],
        view: <span class="hljs-keyword">new</span> ol.View({
          projection: <span class="hljs-string">&apos;EPSG:4326&apos;</span>,
          center: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
          zoom: <span class="hljs-number">0</span>,
          maxResolution: <span class="hljs-number">0.703125</span>
        })
      });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 id="tasks">Tasks</h3>
<ol>
<li><p>Open <code>map.html</code> in your text editor and copy in the contents of the vector example from above. Save your changes and confirm that things look good in your browser: <a href="http://localhost:4000/map.html" target="_blank">http://localhost:4000/map.html</a></p>
</li>
<li><p>Change the vector layer into:</p>
<pre><code class="lang-js"> <span class="hljs-keyword">new</span> ol.layer.Image({
   title: <span class="hljs-string">&apos;Earthquakes&apos;</span>,
   source: <span class="hljs-keyword">new</span> ol.source.ImageVector({
     source: <span class="hljs-keyword">new</span> ol.source.Vector({
       url: <span class="hljs-string">&apos;/data/layers/7day-M2.5.json&apos;</span>,
       format: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
     }),
     style: <span class="hljs-keyword">new</span> ol.style.Style({
       image: <span class="hljs-keyword">new</span> ol.style.Circle({
       radius: <span class="hljs-number">3</span>,
         fill: <span class="hljs-keyword">new</span> ol.style.Fill({color: <span class="hljs-string">&apos;white&apos;</span>})
       })
     })
   })
 })
</code></pre>
</li>
<li><p>Reload <a href="http://localhost:4000/map.html" target="_blank">http://localhost:4000/map.html</a> in the browser</p>
<p><em>Note</em> - You will see the same vector data but depicted as an image. This will still enable things like feature detection, but the vector data will be less sharp. So this is essentially a trade-off between performance and quality.</p>
</li>
</ol>
<h3 id="a-closer-look">A Closer Look</h3>
<p>Let&apos;s examine the layer creation to get an idea of what is going on.</p>
<pre><code class="lang-js">  <span class="hljs-keyword">new</span> ol.layer.Image({
    title: <span class="hljs-string">&apos;Earthquakes&apos;</span>,
    source: <span class="hljs-keyword">new</span> ol.source.ImageVector({
      source: <span class="hljs-keyword">new</span> ol.source.Vector({
        url: <span class="hljs-string">&apos;/data/layers/7day-M2.5.json&apos;</span>,
        format: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
      }),
      style: <span class="hljs-keyword">new</span> ol.style.Style({
        image: <span class="hljs-keyword">new</span> ol.style.Circle({
        radius: <span class="hljs-number">3</span>,
          fill: <span class="hljs-keyword">new</span> ol.style.Fill({color: <span class="hljs-string">&apos;white&apos;</span>})
        })
      })
    })
  })
</code></pre>
<p>We are using an <code>ol.layer.Image</code> instead of an <code>ol.layer.Vector</code>. However, we can still use vector data here through <code>ol.source.ImageVector</code> that connects to our original <code>ol.source.Vector</code> vector source. The style is provided as config of <code>ol.source.ImageVector</code> and not on the layer.</p>
<h3 id="bonus-tasks">Bonus Tasks</h3>
<ol>
<li>Verify that feature detection still works by registering a <code>&apos;singleclick&apos;</code> listener on your map that calls <code>forEachFeatureAtPixel</code> on the map, and displays earthquake information below the map viewport.</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="vector.html" class="navigation navigation-prev " aria-label="Previous page: Vector data">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../controls/" class="navigation navigation-next " aria-label="Next page: Controls">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Image vector source","level":"1.3.5","depth":2,"next":{"title":"Controls","level":"1.4","depth":1,"path":"controls/README.md","ref":"controls/README.md","articles":[{"title":"Scale line control","level":"1.4.1","depth":2,"path":"controls/scaleline.md","ref":"controls/scaleline.md","articles":[]},{"title":"Select interaction","level":"1.4.2","depth":2,"path":"controls/select.md","ref":"controls/select.md","articles":[]},{"title":"Draw interaction","level":"1.4.3","depth":2,"path":"controls/draw.md","ref":"controls/draw.md","articles":[]},{"title":"Modify interaction","level":"1.4.4","depth":2,"path":"controls/modify.md","ref":"controls/modify.md","articles":[]}]},"previous":{"title":"Vector data","level":"1.3.4","depth":2,"path":"layers/vector.md","ref":"layers/vector.md","articles":[]},"dir":"ltr"},"config":{"plugins":["image-captions","include"],"styles":{"website":"style.css"},"pluginsConfig":{"image-captions":{"caption":"_CAPTION_","variable_name":"_pictures"},"include":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"workshopUrl":"http://localhost:4000","_pictures":[{"backlink":"basics/map.html#fig1.2.1.1","level":"1.2.1","list_caption":"Figure: A working map displaying imagery of the world","alt":"A working map displaying imagery of the world","nro":1,"url":"map1.png","index":1,"caption_template":"_CAPTION_","label":"A working map displaying imagery of the world","attributes":{},"skip":false,"key":"1.2.1.1"},{"backlink":"basics/resources.html#fig1.2.3.1","level":"1.2.3","list_caption":"Figure: At a breakpoint in the debugger","alt":"At a breakpoint in the debugger","nro":2,"url":"debugger.png","index":1,"caption_template":"_CAPTION_","label":"At a breakpoint in the debugger","attributes":{},"skip":false,"key":"1.2.3.1"},{"backlink":"layers/wms.html#fig1.3.1.1","level":"1.3.1","list_caption":"Figure: A WMS as an image source","alt":"A WMS as an image source","nro":3,"url":"wms1.png","index":1,"caption_template":"_CAPTION_","label":"A WMS as an image source","attributes":{},"skip":false,"key":"1.3.1.1"},{"backlink":"layers/cached.html#fig1.3.2.1","level":"1.3.2","list_caption":"Figure: A tiled layer with an OSM source","alt":"A tiled layer with an OSM source","nro":4,"url":"cached1.png","index":1,"caption_template":"_CAPTION_","label":"A tiled layer with an OSM source","attributes":{},"skip":false,"key":"1.3.2.1"},{"backlink":"layers/proprietary.html#fig1.3.3.1","level":"1.3.3","list_caption":"Figure: A map with tiles from a Bing Maps source","alt":"A map with tiles from a Bing Maps source","nro":5,"url":"proprietary1.png","index":1,"caption_template":"_CAPTION_","label":"A map with tiles from a Bing Maps source","attributes":{},"skip":false,"key":"1.3.3.1"},{"backlink":"layers/vector.html#fig1.3.4.1","level":"1.3.4","list_caption":"Figure: Earthquake locations","alt":"Earthquake locations","nro":6,"url":"vector1.png","index":1,"caption_template":"_CAPTION_","label":"Earthquake locations","attributes":{},"skip":false,"key":"1.3.4.1"},{"backlink":"controls/scaleline.html#fig1.4.1.1","level":"1.4.1","list_caption":"Figure: A default scale bar in the bottom left-hand corner","alt":"A default scale bar in the bottom left-hand corner","nro":7,"url":"./scaleline1.png","index":1,"caption_template":"_CAPTION_","label":"A default scale bar in the bottom left-hand corner","attributes":{},"skip":false,"key":"1.4.1.1"},{"backlink":"controls/scaleline.html#fig1.4.1.2","level":"1.4.1","list_caption":"Figure: A scale line control outside the map viewport","alt":"A scale line control outside the map viewport","nro":8,"url":"scaleline2.png","index":2,"caption_template":"_CAPTION_","label":"A scale line control outside the map viewport","attributes":{},"skip":false,"key":"1.4.1.2"},{"backlink":"controls/select.html#fig1.4.2.1","level":"1.4.2","list_caption":"Figure: Using an interaction to select features from a vector layer","alt":"Using an interaction to select features from a vector layer","nro":9,"url":"select1.png","index":1,"caption_template":"_CAPTION_","label":"Using an interaction to select features from a vector layer","attributes":{},"skip":false,"key":"1.4.2.1"},{"backlink":"controls/draw.html#fig1.4.3.1","level":"1.4.3","list_caption":"Figure: Using a draw interaction to add features to a vector source","alt":"Using a draw interaction to add features to a vector source","nro":10,"url":"draw1.png","index":1,"caption_template":"_CAPTION_","label":"Using a draw interaction to add features to a vector source","attributes":{},"skip":false,"key":"1.4.3.1"},{"backlink":"vector/style.html#fig1.5.3.1","level":"1.5.3","list_caption":"Figure: Buildings labeled by the key field","alt":"Buildings labeled by the key field","nro":11,"url":"style2.png","index":1,"caption_template":"_CAPTION_","label":"Buildings labeled by the key field","attributes":{},"skip":false,"key":"1.5.3.1"}]},"language":"en","links":{"sidebar":{"OpenLayers Workshop":"/"}},"gitbook":"*"},"file":{"path":"layers/imagevector.md","mtime":"2017-08-07T23:09:15.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-08-07T23:49:35.144Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

