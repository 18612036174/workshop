<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.2. Understanding Style &mdash; OpenLayers Workshop</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpenLayers Workshop" href="../index.html" />
    <link rel="up" title="4. Vector styling" href="index.html" />
    <link rel="next" title="4.3. Styling Vector Layers" href="style.html" />
    <link rel="prev" title="4.1. Working with Vector Layers" href="concepts.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="style.html" title="4.3. Styling Vector Layers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="concepts.html" title="4.1. Working with Vector Layers"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">OpenLayers Workshop</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">4. Vector styling</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="understanding-style">
<span id="openlayers-vector-style-intro"></span><h1>4.2. Understanding Style<a class="headerlink" href="#understanding-style" title="Permalink to this headline">¶</a></h1>
<p>When styling HTML elements, you might use CSS like the following:</p>
<div class="highlight-html"><div class="highlight"><pre>.someClass {
    background-color: blue;
    border-width: 1px;
    border-color: olive;
}
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">.someClass</span></tt> text is a selector (in this case it selects all elements that include the class name <tt class="docutils literal"><span class="pre">&quot;someClass&quot;</span></tt>) and the block that follows is a group of named properties and values, otherwise known as style declarations.</p>
<div class="section" id="layer-style">
<h2>4.2.1. Layer style<a class="headerlink" href="#layer-style" title="Permalink to this headline">¶</a></h2>
<p>A vector layer can have styles. More specifically, a vector layer can be configured with an <tt class="docutils literal"><span class="pre">ol.style.Style</span></tt> object, an array of <tt class="docutils literal"><span class="pre">ol.style.Style</span></tt> objects, or a function that takes an <tt class="docutils literal"><span class="pre">ol.Feature</span></tt> instance and a resolution and returns an array of <tt class="docutils literal"><span class="pre">ol.style.Style</span></tt> objects.</p>
<p>Here&#8217;s an example of a vector layer configured with a static style:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">layer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Vector</span><span class="p">({</span>
  <span class="nx">source</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">Vector</span><span class="p">(),</span>
  <span class="nx">style</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Style</span><span class="p">({</span>
    <span class="c1">// ...</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
<p>And here&#8217;s an example of a vector layer configured with a style function that applies a style to all features that have an attribute named <tt class="docutils literal"><span class="pre">class</span></tt> with a value of <tt class="docutils literal"><span class="pre">'someClass'</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">layer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Vector</span><span class="p">({</span>
  <span class="nx">source</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">Vector</span><span class="p">(),</span>
  <span class="nx">style</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">feature</span><span class="p">,</span> <span class="nx">resolution</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;someClass&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// create styles...</span>
      <span class="k">return</span> <span class="nx">styles</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="symbolizers">
<h2>4.2.2. Symbolizers<a class="headerlink" href="#symbolizers" title="Permalink to this headline">¶</a></h2>
<p>The equivalent of a declaration block in CSS is a <cite>symbolizer</cite> in OpenLayers 3 (these are typically instances of ol.style.*). To paint polygon features with a blue background and a 1 pixel wide olive stroke, you would use two symbolizers like the following:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Style</span><span class="p">({</span>
  <span class="nx">fill</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Fill</span><span class="p">({</span>
    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;blue&#39;</span>
  <span class="p">}),</span>
  <span class="nx">stroke</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Stroke</span><span class="p">({</span>
    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;olive&#39;</span><span class="p">,</span>
    <span class="nx">width</span><span class="o">:</span> <span class="mi">1</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Depending on the geometry type, different symbolizers can be applied. Lines work like polygons, but they cannot have a fill. Points can be styled with <tt class="docutils literal"><span class="pre">ol.style.Circle</span></tt> or <tt class="docutils literal"><span class="pre">ol.style.Icon</span></tt>. The former is used to render circle shapes, and the latter uses graphics from file (e.g. png images). Here is an example for a style with a circle:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Circle</span><span class="p">({</span>
  <span class="nx">radius</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
  <span class="nx">fill</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Fill</span><span class="p">({</span>
    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#ff9900&#39;</span><span class="p">,</span>
    <span class="nx">opacity</span><span class="o">:</span> <span class="mf">0.6</span>
  <span class="p">}),</span>
  <span class="nx">stroke</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Stroke</span><span class="p">({</span>
    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#ffcc00&#39;</span><span class="p">,</span>
    <span class="nx">opacity</span><span class="o">:</span> <span class="mf">0.4</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="ol-style-style">
<h2>4.2.3. ol.style.Style<a class="headerlink" href="#ol-style-style" title="Permalink to this headline">¶</a></h2>
<p>An <tt class="docutils literal"><span class="pre">ol.style.Style</span></tt> object has 4 keys: <tt class="docutils literal"><span class="pre">fill</span></tt>, <tt class="docutils literal"><span class="pre">image</span></tt>, <tt class="docutils literal"><span class="pre">stroke</span></tt> and <tt class="docutils literal"><span class="pre">text</span></tt>. It also has an optional <tt class="docutils literal"><span class="pre">zIndex</span></tt> property. The style function will return an array of <tt class="docutils literal"><span class="pre">ol.style.Style</span></tt> objects.</p>
<p>If you want all features to be colored red except for those that have a <tt class="docutils literal"><span class="pre">class</span></tt> attribute with the value of <tt class="docutils literal"><span class="pre">&quot;someClass&quot;</span></tt> (and you want those features colored blue with an 1px wide olive stroke), you would create a style function that looked like the following (by the way, it is important to create objects outside of the style function so they can be reused, but for simplicity reasons the objects are created inline in the example below):</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">style</span><span class="o">:</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">someStyle</span> <span class="o">=</span> <span class="p">[</span><span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Style</span><span class="p">({</span>
    <span class="nx">fill</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Fill</span><span class="p">({</span>
      <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;blue&#39;</span>
    <span class="p">}),</span>
    <span class="nx">stroke</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Stroke</span><span class="p">({</span>
      <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;olive&#39;</span><span class="p">,</span>
      <span class="nx">width</span><span class="o">:</span> <span class="mi">1</span>
    <span class="p">})</span>
  <span class="p">})];</span>
  <span class="kd">var</span> <span class="nx">otherStyle</span> <span class="o">=</span> <span class="p">[</span><span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Style</span><span class="p">({</span>
    <span class="nx">fill</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Fill</span><span class="p">({</span>
      <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span>
    <span class="p">})</span>
  <span class="p">})];</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">feature</span><span class="p">,</span> <span class="nx">resolution</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;someClass&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">someStyle</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">otherStyle</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">}())</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is important to create the style arrays outside of the actual function. This can be done with a JavaScript closure as done in the example above.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A feature also has a style config option that can take a function having only resolution as argument. This makes it possible to style individual features (based on resolution).</p>
</div>
</div>
<div class="section" id="pseudo-classes">
<h2>4.2.4. Pseudo-classes<a class="headerlink" href="#pseudo-classes" title="Permalink to this headline">¶</a></h2>
<p>CSS allows for pseudo-classes on selectors. These basically limit the application of style declarations based on contexts that are not easily represented in the selector, such as mouse position, neighboring elements, or browser history. In OpenLayers 3, a somewhat similar concept is having a style config option on an <tt class="docutils literal"><span class="pre">ol.interaction.Select</span></tt>.</p>
<p>An example is:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">select</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">interaction</span><span class="p">.</span><span class="nx">Select</span><span class="p">({</span>
  <span class="nx">style</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Style</span><span class="p">({</span>
    <span class="nx">fill</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">Fill</span><span class="p">({</span>
      <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;rgba(255,255,255,0.5)&#39;</span>
    <span class="p">})</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
<p>With the basics of styling under your belt, it&#8217;s time to move on to <a class="reference internal" href="style.html#openlayers-style"><em>styling vector layers</em></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4.2. Understanding Style</a><ul>
<li><a class="reference internal" href="#layer-style">4.2.1. Layer style</a></li>
<li><a class="reference internal" href="#symbolizers">4.2.2. Symbolizers</a></li>
<li><a class="reference internal" href="#ol-style-style">4.2.3. ol.style.Style</a></li>
<li><a class="reference internal" href="#pseudo-classes">4.2.4. Pseudo-classes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="concepts.html"
                        title="previous chapter">4.1. Working with Vector Layers</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="style.html"
                        title="next chapter">4.3. Styling Vector Layers</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="style.html" title="4.3. Styling Vector Layers"
             >next</a> |</li>
        <li class="right" >
          <a href="concepts.html" title="4.1. Working with Vector Layers"
             >previous</a> |</li>
        <li><a href="../index.html">OpenLayers Workshop</a> &raquo;</li>
          <li><a href="index.html" >4. Vector styling</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, OpenGeo.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>