<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.1. Displaying a Scale Line &mdash; OpenLayers Workshop</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpenLayers Workshop" href="../index.html" />
    <link rel="up" title="3. Controls and interactions" href="index.html" />
    <link rel="next" title="3.2. Selecting Features" href="select.html" />
    <link rel="prev" title="3. Controls and interactions" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="select.html" title="3.2. Selecting Features"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="3. Controls and interactions"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">OpenLayers Workshop</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">3. Controls and interactions</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="displaying-a-scale-line">
<span id="openlayers-controls-scaleline"></span><h1>3.1. Displaying a Scale Line<a class="headerlink" href="#displaying-a-scale-line" title="Permalink to this headline">¶</a></h1>
<p>Another typical widget to display on maps is a scale bar.  OpenLayers 3 provides an <tt class="docutils literal"><span class="pre">ol.control.SaleLine</span></tt> for just this.</p>
<div class="section" id="creating-a-scaleline-control">
<h2>3.1.1. Creating a ScaleLine Control<a class="headerlink" href="#creating-a-scaleline-control" title="Permalink to this headline">¶</a></h2>
<p class="rubric">Tasks</p>
<ol class="arabic">
<li><p class="first">Open the <tt class="docutils literal"><span class="pre">map.html</span></tt> in your text editor.</p>
</li>
<li><p class="first">Somewhere in the map config, add the following code to create a new scale line control for your map:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">controls</span><span class="o">:</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">defaults</span><span class="p">().</span><span class="nx">extend</span><span class="p">([</span>
  <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">ScaleLine</span><span class="p">()</span>
<span class="p">]),</span>
</pre></div>
</div>
</li>
<li><p class="first">Save your changes and open <tt class="docutils literal"><span class="pre">map.html</span></tt> in your browser: <a class="reference external" href="http://localhost:8080/ol_workshop/map.html">http://localhost:8080/ol_workshop/map.html</a></p>
<div class="figure">
<img alt="../_images/scaleline1.png" src="../_images/scaleline1.png" />
</div>
<p>A default scale bar in the bottom left-hand corner</p>
</li>
</ol>
</div>
<div class="section" id="moving-the-scaleline-control">
<h2>3.1.2. Moving the ScaleLine Control<a class="headerlink" href="#moving-the-scaleline-control" title="Permalink to this headline">¶</a></h2>
<p>You may find the scale bar a bit hard to read over the imagery. There are a few approaches to take in order to improve scale visibility.  If you want to keep the control inside the map viewport, you can add some style declarations within the CSS of your document. To test this out, you can include a background color and padding to the scale bar with something like the following:</p>
<blockquote>
<div><div class="highlight-html"><div class="highlight"><pre>.ol-scale-line, .ol-scale-line:not([ie8andbelow]) {
  background: black;
  padding: 5px;
}
</pre></div>
</div>
</div></blockquote>
<p>However, for the sake of this exercise, let&#8217;s say you think the map viewport is getting unbearably crowded. To avoid such over-crowding, you can display the scale in a different location. To accomplish this, we need to first create an additional element in our markup and then tell the scale control to render itself within this new element.</p>
<p class="rubric">Tasks</p>
<ol class="arabic">
<li><p class="first">Create a new block level element in the <tt class="docutils literal"><span class="pre">&lt;body&gt;</span></tt> of your page. To make this element easy to refer to, we&#8217;ll give it an <tt class="docutils literal"><span class="pre">id</span></tt> attribute. Insert the following markup somewhere in the <tt class="docutils literal"><span class="pre">&lt;body&gt;</span></tt> of your <tt class="docutils literal"><span class="pre">map.html</span></tt> page. (Placing the scale element right after the map viewport element <tt class="docutils literal"><span class="pre">&lt;div</span> <span class="pre">id=&quot;map&quot;&gt;&lt;/div&gt;</span></tt> makes sense.):</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;scale-line&quot;</span> <span class="na">class=</span><span class="s">&quot;scale-line&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Now modify the code creating the scale control so that it refers to the <tt class="docutils literal"><span class="pre">scale-line</span></tt> element:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">controls</span><span class="o">:</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">defaults</span><span class="p">().</span><span class="nx">extend</span><span class="p">([</span>
  <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">ScaleLine</span><span class="p">({</span><span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;ol-scale-line&#39;</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;scale-line&#39;</span><span class="p">)})</span>
<span class="p">]),</span>
</pre></div>
</div>
</li>
<li><p class="first">Save your changes and open <tt class="docutils literal"><span class="pre">map.html</span></tt> in your browser: <a class="reference external" href="http://localhost:8080/ol_workshop/map.html">http://localhost:8080/ol_workshop/map.html</a></p>
<div class="highlight-html"><div class="highlight"><pre>.scale-line {
  position: absolute;
  top: 350px;
}
.ol-scale-line {
  position: relative;
  bottom: 0px;
  left: 0px;
}
</pre></div>
</div>
</li>
<li><p class="first">Now save your changes and view <tt class="docutils literal"><span class="pre">map.html</span></tt> again in your browser: <a class="reference external" href="http://localhost:8080/ol_workshop/map.html">http://localhost:8080/ol_workshop/map.html</a></p>
<div class="figure">
<img alt="../_images/scaleline2.png" src="../_images/scaleline2.png" />
<p class="caption">A scale line control outside the map viewport.</p>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To create a custom control you can inherit (by using <tt class="docutils literal"><span class="pre">ol.inherits</span></tt>) from <tt class="docutils literal"><span class="pre">ol.control.Control</span></tt>. To see an example of this check out: <a class="reference external" href="http://ol3js.org/en/master/examples/custom-controls.html">http://ol3js.org/en/master/examples/custom-controls.html</a>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3.1. Displaying a Scale Line</a><ul>
<li><a class="reference internal" href="#creating-a-scaleline-control">3.1.1. Creating a ScaleLine Control</a></li>
<li><a class="reference internal" href="#moving-the-scaleline-control">3.1.2. Moving the ScaleLine Control</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">3. Controls and interactions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="select.html"
                        title="next chapter">3.2. Selecting Features</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="select.html" title="3.2. Selecting Features"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="3. Controls and interactions"
             >previous</a> |</li>
        <li><a href="../index.html">OpenLayers Workshop</a> &raquo;</li>
          <li><a href="index.html" >3. Controls and interactions</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, OpenGeo.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>